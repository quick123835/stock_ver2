(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(666)}])},960:function(t,e,n){"use strict";var r=n(5893),c=n(1801),i=n.n(c),o=n(387),a=(n(8418),n(9473)),u=n(7983),s=i().card,l=i().cardName,f=i().counts,d=i().red;e.Z=function(t){var e=t.item,n=t.stocks,c=t.onStockClick,i=(0,o.useRouter)(),v=i.pathname,y=(0,a.I0)();if("/"===v){var _=n.filter((function(t){return t.industry_category===e}));return(0,r.jsxs)("div",{className:s,onClick:function(){var t,n;t=e,n=_,y((0,u.jc)(t)),y((0,u.$g)(n)),i.push("/category")},children:[(0,r.jsx)("div",{className:l,children:e}),(0,r.jsxs)("div",{className:f,children:[_.length,"\u6a94\u80a1\u7968"]})]})}if("/category"===v&&e.pressure&&e.pressure.length>0){var p=new Date(e.pressure[0]),g=p.getFullYear(),h=(p.getMonth()+1).toString().padStart(2,"0"),m=p.getDate().toString().padStart(2,"0"),k="".concat(g,"/").concat(h,"/").concat(m),x=Number(e.pressure[1]).toFixed(4);return(0,r.jsxs)("div",{className:"".concat(s," ").concat(x<=.6&&d," "),onClick:function(){null===c||void 0===c||c(e.id,e.name)},children:[(0,r.jsx)("div",{className:l,children:e.name}),(0,r.jsxs)("div",{children:["\u4ee3\u78bc: ",e.id]}),(0,r.jsxs)("div",{children:["\u6642\u9593: ",k]}),(0,r.jsxs)("div",{children:["\u529b\u9053: ",x]})]})}}},7983:function(t,e,n){"use strict";n.d(e,{qu:function(){return r},vp:function(){return c},GB:function(){return i},jc:function(){return o},$g:function(){return a}});var r=function(t){return{type:"getTtlStocks",payload:t}},c=function(t){return{type:"getTtlCategories",payload:t}},i=function(t){return{type:"StockInfo",payload:t}},o=function(t){return{type:"categoryClick",payload:t}},a=function(t){return{type:"clickCategoryStocks",payload:t}}},8418:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,c=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(u){c=!0,i=u}finally{try{r||null==a.return||a.return()}finally{if(c)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c,i=(c=n(7294))&&c.__esModule?c:{default:c},o=n(6273),a=n(387),u=n(7190);var s={};function l(t,e,n,r){if(t&&o.isLocalURL(e)){t.prefetch(e,n,r).catch((function(t){0}));var c=r&&"undefined"!==typeof r.locale?r.locale:t&&t.locale;s[e+"%"+n+(c?"%"+c:"")]=!0}}},7190:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,c=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(u){c=!0,i=u}finally{try{r||null==a.return||a.return()}finally{if(c)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.useIntersection=function(t){var e=t.rootMargin,n=t.disabled||!o,u=c.useRef(),s=r(c.useState(!1),2),l=s[0],f=s[1],d=c.useCallback((function(t){u.current&&(u.current(),u.current=void 0),n||l||t&&t.tagName&&(u.current=function(t,e,n){var r=function(t){var e=t.rootMargin||"",n=a.get(e);if(n)return n;var r=new Map,c=new IntersectionObserver((function(t){t.forEach((function(t){var e=r.get(t.target),n=t.isIntersecting||t.intersectionRatio>0;e&&n&&e(n)}))}),t);return a.set(e,n={id:e,observer:c,elements:r}),n}(n),c=r.id,i=r.observer,o=r.elements;return o.set(t,e),i.observe(t),function(){o.delete(t),i.unobserve(t),0===o.size&&(i.disconnect(),a.delete(c))}}(t,(function(t){return t&&f(t)}),{rootMargin:e}))}),[n,e,l]);return c.useEffect((function(){if(!o&&!l){var t=i.requestIdleCallback((function(){return f(!0)}));return function(){return i.cancelIdleCallback(t)}}}),[l]),[d,l]};var c=n(7294),i=n(9311),o="undefined"!==typeof IntersectionObserver;var a=new Map},666:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var r=n(5666),c=n.n(r),i=n(5893),o=n(1907),a=n(7294),u=n(9473),s=n(6286),l=n.n(s),f=n(960),d=(n(387),l().listContainer),v=function(t){var e=t.categories,n=t.ttlStocks;return(0,i.jsx)("div",{className:d,children:e.map((function(t,e){return(0,i.jsx)(f.Z,{item:t,stocks:n},e)}))})},y=n(7983);function _(t,e,n,r,c,i,o){try{var a=t[i](o),u=a.value}catch(s){return void n(s)}a.done?e(u):Promise.resolve(u).then(r,c)}var p=function(){var t,e=(0,a.useState)(!0),n=e[0],r=e[1],s=(0,a.useState)({}),l=(s[0],s[1],(0,u.I0)()),f=(t=c().mark((function t(){var e,n,i,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,o.W)();case 3:e=t.sent.data,n=e.filter((function(t){return"ETF"!==t.industry_category&&"Index"!==t.industry_category&&"\u4e0a\u6ac3\u6307\u6578\u80a1\u7968\u578b\u57fa\u91d1(ETF)"!==t.industry_category&&"ETN"!==t.industry_category&&"\u6307\u6578\u6295\u8cc7\u8b49\u5238(ETN)"!==t.industry_category&&"\u53d7\u76ca\u8b49\u5238"!==t.industry_category})),i=Array.from(new Map(n.map((function(t){return[t.stock_id,t]}))).values()),l((0,y.qu)(i)),a=i.reduce((function(t,e){return t.includes(e.industry_category)||t.push(e.industry_category),t}),[]),l((0,y.vp)(a)),r(!1),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})),function(){var e=this,n=arguments;return new Promise((function(r,c){var i=t.apply(e,n);function o(t){_(i,r,c,o,a,"next",t)}function a(t){_(i,r,c,o,a,"throw",t)}o(void 0)}))});(0,a.useEffect)((function(){f()}),[]);var d=(0,u.v9)((function(t){return t.getTtlStocksReducer})),p=(0,u.v9)((function(t){return t.getTtlCategoriesReducer}));return(0,i.jsxs)("div",{children:[!0===n&&(0,i.jsx)("div",{className:"position-absolute w-100 h-100 d-flex justify-content-center align-items-center",children:"Loading..."}),!1===n&&(0,i.jsx)(v,{categories:p,ttlStocks:d})]})}},6286:function(t){t.exports={listContainer:"CategoriesList_listContainer__2ifrD",card:"CategoriesList_card__3_XO2",cardName:"CategoriesList_cardName__2-zBf",counts:"CategoriesList_counts__1whUa"}},1801:function(t){t.exports={card:"ListItem_card__jqs9j",cardName:"ListItem_cardName__3tcdo",counts:"ListItem_counts__gWOfl",red:"ListItem_red__3be1z"}}},function(t){t.O(0,[774,888,179],(function(){return e=8581,t(t.s=e);var e}));var e=t.O();_N_E=e}]);