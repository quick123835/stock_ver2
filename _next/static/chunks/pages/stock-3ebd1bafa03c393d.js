(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{5708:function(t,e,n){var r;"undefined"!=typeof self&&self,t.exports=(r=n(7294),function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){return s(t)||u(t)||a(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function u(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function s(t){if(Array.isArray(t))return i(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"HighchartsReact",(function(){return d}));var l=n(1),p=n.n(l),h="undefined"!=typeof window?l.useLayoutEffect:l.useEffect,d=Object(l.memo)(Object(l.forwardRef)((function(t,e){var n=Object(l.useRef)(),c=Object(l.useRef)(),a=Object(l.useRef)(t.constructorType),u=Object(l.useRef)(t.highcharts);return h((function(){function e(){var e=t.highcharts||"object"===("undefined"==typeof window?"undefined":f(window))&&window.Highcharts,r=t.constructorType||"chart";e?e[r]?t.options?c.current=e[r](n.current,t.options,t.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(c.current){if(!1!==t.allowChartUpdate)if(t.constructorType!==a.current||t.highcharts!==u.current)a.current=t.constructorType,u.current=t.highcharts,e();else if(!t.immutable&&c.current){var r;(r=c.current).update.apply(r,[t.options].concat(o(t.updateArgs||[!0,!0])))}else e()}else e()}),[t.options,t.allowChartUpdate,t.updateArgs,t.containerProps,t.highcharts,t.constructorType]),h((function(){return function(){c.current&&(c.current.destroy(),c.current=null)}}),[]),Object(l.useImperativeHandle)(e,(function(){return{get chart(){return c.current},container:n}}),[]),p.a.createElement("div",r({},t.containerProps,{ref:n}))})));e.default=d},function(t,e){t.exports=r}]))},5527:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stock",function(){return n(5241)}])},5241:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return _}});var r=n(5893),o=n(5666),c=n.n(o),a=n(1534),u=n.n(a),s=n(7294),i=n(1907),f=n(1163),l=n(2390),p=n.n(l),h=n(5384),d=n.n(h),y=n(5708),m=n.n(y),v=n(387),b=function(t){for(var e=t.stockDetail,n=t.stockName,o=(t.stockId,t.stockInfo,(0,v.useRouter)().query),c=o.id,a=o.name,u=(0,s.useState)({}),i=u[0],f=u[1],l=1;l<e.length;l++){var h=e[l].close-e[l-1].close;e[l].def=h}for(var y=[],b=[],g=[],x=[],w=[],_=[],j=1;j<e.length;j++)e[j].def<0?(y.push(e[j].Trading_Volume),b.push(e[j].date),g.push(Math.abs(e[j].open-e[j-1].close)),x.push(Math.abs(e[j].max-e[j].min)),w.push(Math.abs(e[j].open-e[j].min)),_.push(Math.abs(e[j].max-e[j].close))):(b.push(e[j].date),y.push(e[j].Trading_Volume),g.push(Math.abs(e[j].max-e[j].open)),x.push(Math.abs(e[j].close-e[j].min)),w.push(Math.abs(e[j-1].close-e[j].open)),_.push(Math.abs(e[j-1].max-e[j].min)));for(var k=[],O=[],T=0;T<g.length;T++)k.push(g[T]+x[T]),O.push(w[T]+_[T]);for(var S=[],M=[],A=0;A<k.length;A++)S.push(Math.floor(y[A]*(k[A]/(k[A]+O[A])))),M.push(Math.floor(y[A]*(O[A]/(k[A]+O[A]))));for(var P=b.slice(20),I=[],E=[],N=0;N<S.length-20;N++){for(var R=0,C=0,D=N;D<N+20;D++)R+=S[D],C+=M[D];I.push(R),E.push(C)}for(var V=[],q=0;q<I.length;q++)V.push([new Date(P[q]).getTime(),E[q]/I[q]]);var H=e.map((function(t){return[new Date(t.date).getTime(),Math.floor(t.Trading_Volume/1e3)]}));(0,s.useEffect)((function(){var t=e.map((function(t){return[new Date(t.date).getTime(),t.open,t.max,t.min,t.close]})),n={rangeSelector:{selected:2,buttons:[{type:"month",count:1,text:"1\u6708"},{type:"month",count:3,text:"3\u6708"},{type:"all",text:"\u5168\u90e8"}]},title:{text:"".concat(c," ").concat(a)},chart:{height:600,width:800},yAxis:[{height:"70%",title:{text:"\u4ef7\u683c"}},{title:{text:"\u8cb7\u8ce3\u529b\u9053"},opposite:!1,min:0,max:2,tickInterval:.2,plotLines:[{value:.6,color:"red",width:2,zIndex:5},{value:1.4,color:"green",width:2,zIndex:5}]},{top:"75%",height:"25%",title:{text:"\u6210\u4ea4\u91cf"},offset:0}],series:[{type:"candlestick",name:"\u80a1\u7968\u4ef7\u683c",data:t,yAxis:0},{type:"spline",name:"\u8cb7\u8ce3\u529b\u9053",data:V,yAxis:1},{type:"column",name:"\u6210\u4ea4\u91cf",data:H,yAxis:2}],accessibility:{enabled:!1}};f(n)}),[e,n]);var U=p().pic;p().category;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:U,children:(0,r.jsx)(m(),{highcharts:d(),options:i,constructorType:"stockChart"})})})},g=n(9473);function x(t,e,n,r,o,c,a){try{var u=t[c](a),s=u.value}catch(i){return void n(i)}u.done?e(s):Promise.resolve(s).then(r,o)}var w=function(){var t,e=(0,f.useRouter)().query.id,n=u().candleContainer,o=u().container,a=(0,s.useState)([]),l=a[0],p=a[1],h=(0,g.v9)((function(t){return t.stockInfoReducer})),d=(t=c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,i.j)(e);case 3:n=t.sent,p(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var c=t.apply(e,n);function a(t){x(c,r,o,a,u,"next",t)}function u(t){x(c,r,o,a,u,"throw",t)}a(void 0)}))});return(0,s.useEffect)((function(){d(e)}),[e]),(0,r.jsx)("div",{className:o,children:(0,r.jsx)("div",{className:n,children:(0,r.jsx)(b,{stockDetail:l,stockId:e,stockInfo:h})})})},_=function(){return(0,r.jsx)("div",{children:(0,r.jsx)(w,{})})}},2390:function(t){t.exports={pic:"PresureStick_pic__3K2VP",category:"PresureStick_category__1cssX"}},1534:function(t){t.exports={container:"Stock_container__wtkJx"}}},function(t){t.O(0,[520,774,888,179],(function(){return e=5527,t(t.s=e);var e}));var e=t.O();_N_E=e}]);